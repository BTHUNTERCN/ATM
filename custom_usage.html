

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Custom Usage &mdash; ATM 0.2.1-dev documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/dai-logo-white.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ATM
          

          
            
            <img src="_static/dai-logo-white-200.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">ATM - Auto Tune Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#overview">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#install">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#install-with-pip">Install with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#install-from-source">Install from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#install-for-development">Install for Development</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#data-format">Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#quickstart">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#get-the-demo-data">1. Get the demo data</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#create-an-atm-instance">2. Create an ATM instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#search-for-the-best-model">3. Search for the best model</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#explore-the-results">4. Explore the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#make-predictions">5. Make predictions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#what-s-next">What’s next?</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#credits">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#citing-atm">Citing ATM</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#related-projects">Related Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme.html#btb">BTB</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#featuretools">Featuretools</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="database.html">Guide to the ModelHub database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#datasets">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#dataruns">Dataruns</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#hyperpartitions">Hyperpartitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#classifiers">Classifiers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cli.html#get-the-demo-data">1. Get the demo data</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html#create-a-dataset-and-generate-it-s-dataruns">2. Create a dataset and generate it’s dataruns</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html#start-a-worker">3. Start a worker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rest.html">REST API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rest.html#quickstart">Quickstart</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rest.html#start-the-rest-api-server">1. Start the REST API Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#create-a-dataset">2. Create a Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#trigger-a-datarun">3. Trigger a Datarun</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#browse-the-results">4. Browse the results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest.html#get-all-objects-from-a-model">Get all objects from a model</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#get-a-single-object-by-id">Get a single object by id</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest.html#get-all-the-children-objects">Get all the children objects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rest.html#additional-information">Additional information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rest.html#start-additional-process-with-different-pid-file">Start additional process with different pid file</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#restart-the-atm-process">Restart the ATM process</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#stop-the-atm-process">Stop the ATM process</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest.html#start-the-atm-rest-api-server-in-foreground">Start the ATM REST API server in foreground</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="add_method.html">Adding a classification method</a><ul>
<li class="toctree-l2"><a class="reference internal" href="add_method.html#valid-method-classes">1. Valid method classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_method.html#creating-the-json-file">2. Creating the JSON file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="add_method.html#defining-hyperparameters">Defining hyperparameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="add_method.html#defining-the-conditional-parameter-tree">Defining the Conditional Parameter Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="add_method.html#optional-adding-a-new-method-to-the-atm-library">3. (Optional) Adding a new method to the ATM library</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/atm.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/atm.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/atm.api.html">atm.api package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/atm.api.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/atm.api.html#module-atm.api">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/atm.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/atm.classifier.html">atm.classifier module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.cli.html">atm.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.compat.html">atm.compat module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.config.html">atm.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.constants.html">atm.constants module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.core.html">atm.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.data.html">atm.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.database.html">atm.database module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.encoder.html">atm.encoder module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.method.html">atm.method module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.metrics.html">atm.metrics module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.utilities.html">atm.utilities module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/atm.worker.html">atm.worker module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/atm.html#module-atm">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#unit-testing-guidelines">Unit Testing Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#tips">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#release-workflow">Release Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="history.html#id1">0.2.0 (2019-05-29)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#new-features">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id3">0.1.2 (2019-05-07)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id4">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id7">0.1.1 (2019-04-02)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id8">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id9">0.1.0 (2018-05-04)</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ATM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Custom Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/HDI-project/ATM/blob/master/docs/custom_usage.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-usage">
<h1>Custom Usage<a class="headerlink" href="#custom-usage" title="Permalink to this headline">¶</a></h1>
<p>Nearly every part of ATM is configurable. For example, you can specify which machine-learning
algorithms ATM should try, which metrics it computes (such as F1 score and ROC/AUC), and which
method it uses to search through the space of hyperparameters (using another HDI Project library,
BTB). You can also constrain ATM to find the best model within a limited amount of time or by
training a limited amount of total models.</p>
<div class="section" id="using-atm-with-your-own-data">
<h2>Using ATM with your own data<a class="headerlink" href="#using-atm-with-your-own-data" title="Permalink to this headline">¶</a></h2>
<p>If you want to use the system for your own dataset, convert your data to a CSV file with the
following format:</p>
<ul class="simple">
<li><p>Each column is a feature (or the label).</p></li>
<li><p>Each row is a training example.</p></li>
<li><p>The first row is the header row, which contains names for each column of data.</p></li>
<li><p>A single column (the <em>target</em> or <em>label</em>), if this columns name is different than <code class="docutils literal notranslate"><span class="pre">class</span></code> you
will have to provide it.</p></li>
</ul>
</div>
<div class="section" id="using-custom-configuration">
<h2>Using custom configuration:<a class="headerlink" href="#using-custom-configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<p>If you would like to create a custom instance of <strong>ATM</strong>  you can specify this with arguments
during instantiation.</p>
<div class="section" id="using-a-config-yaml-file">
<h4>Using a config.yaml file<a class="headerlink" href="#using-a-config-yaml-file" title="Permalink to this headline">¶</a></h4>
<p>You can create and provide a path to a <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file that contains all the configuration
for your <strong>ATM</strong> instance.</p>
<p>To create such a <code class="docutils literal notranslate"><span class="pre">yaml</span></code> file ,execute the following command that will generate the config tempalte
files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>atm make_config
</pre></div>
</div>
<p>This will create a folder named <code class="docutils literal notranslate"><span class="pre">config</span></code> with the following structure:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>config
└── templates
    ├── aws.yaml
    ├── config.yaml
    ├── log-script.yaml
    ├── log.yaml
    ├── run.yaml
    └── sql.yaml
</pre></div>
</div>
<p>There you will find the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> template that you can copy and modify setting the arguments
that you would like to use.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">config</span><span class="o">/</span><span class="n">templates</span><span class="o">/</span><span class="n">config</span><span class="p">.</span><span class="n">yaml</span> <span class="n">config</span><span class="o">/</span>
<span class="n">vim</span> <span class="n">config</span><span class="o">/</span><span class="n">config</span><span class="p">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>An example, using mysql, would be:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">dialect</span><span class="p">:</span> <span class="n">mysql</span>
<span class="k">database</span><span class="p">:</span> <span class="n">atm</span>
<span class="n">username</span><span class="p">:</span> <span class="n">username</span>
<span class="n">password</span><span class="p">:</span> <span class="n">password</span>
<span class="k">host</span><span class="p">:</span> <span class="n">localhost</span>
<span class="n">port</span><span class="p">:</span> <span class="mi">3306</span>
</pre></div>
</div>
<p>Then you can simply instantiate <code class="docutils literal notranslate"><span class="pre">ATM</span></code> giving it the path to this <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="k">from</span> <span class="n">atm</span> <span class="n">import</span> <span class="n">ATM</span>

<span class="n">atm</span> <span class="o">=</span> <span class="n">ATM</span><span class="p">(</span><span class="n">config_file</span><span class="o">=</span><span class="s1">&#39;config/config.yaml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-arguments">
<h4>Using arguments<a class="headerlink" href="#using-arguments" title="Permalink to this headline">¶</a></h4>
<p>The ATM initiation accepts the same arguments aswell:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">atm</span> <span class="kn">import</span> <span class="n">ATM</span>

<span class="n">atm</span> <span class="o">=</span> <span class="n">ATM</span><span class="p">(</span>
    <span class="n">dialect</span><span class="o">=</span><span class="s1">&#39;mysql&#39;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s1">&#39;atm&#39;</span><span class="p">,</span>
    <span class="n">username</span><span class="o">=</span><span class="s1">&#39;username&#39;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s1">&#39;password&#39;</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="mi">3306</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This will create the same <code class="docutils literal notranslate"><span class="pre">ATM</span></code> as the one with the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>.</p>
</div>
<div class="section" id="using-the-run-method-with-your-own-data">
<h4>Using the <code class="docutils literal notranslate"><span class="pre">run</span></code> method with your own data<a class="headerlink" href="#using-the-run-method-with-your-own-data" title="Permalink to this headline">¶</a></h4>
<p><strong>ATM</strong> <code class="docutils literal notranslate"><span class="pre">run</span></code> method allows you to specify different arguments which have default values, however,
you may need to change some of them in order to make it work with your dataset.
For example, if the column target that you are trying to predict is not <code class="docutils literal notranslate"><span class="pre">class</span></code> then you will
have to specify the name of it.</p>
<p>Here is a list of the arguments that <code class="docutils literal notranslate"><span class="pre">run</span></code> method accepts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">class_column</span></code>: The target column that has to be classified. By default it is set to <code class="docutils literal notranslate"><span class="pre">class</span></code>,
type str.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">train_path</span></code>: Path to a <code class="docutils literal notranslate"><span class="pre">csv</span></code> file that follows the data specifications. This must be specified,
type <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_path</span></code>: Path to a <code class="docutils literal notranslate"><span class="pre">csv</span></code> file that follows the data specifications, this one will be used
as test data, if this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <strong>ATM</strong>, will split the train data into train and test. Type <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">budget</span></code>: Amount of <code class="docutils literal notranslate"><span class="pre">classifiers</span></code> or amount of <code class="docutils literal notranslate"><span class="pre">minutes</span></code> to run, type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">budget_type</span></code>: Type of the <code class="docutils literal notranslate"><span class="pre">budget</span></code>, by default it’s <code class="docutils literal notranslate"><span class="pre">classifier</span></code>, can be changed to <code class="docutils literal notranslate"><span class="pre">walltime</span></code>,
type <code class="docutils literal notranslate"><span class="pre">str</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gridding</span></code>: Gridding factor, by default set to <code class="docutils literal notranslate"><span class="pre">0</span></code> which means that no gridding will be
performed, type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k_window</span></code>: Number of previous scores considered by <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">selector</span></code> methods. Default is <code class="docutils literal notranslate"><span class="pre">3</span></code>,
type <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">methods</span></code>: Method or a list of methods to use for classification. Each method can either be one
of the pre-defined method codes listed below or a path to a JSON file defining a custom method.
Default is <code class="docutils literal notranslate"><span class="pre">['logreg',</span> <span class="pre">'dt',</span> <span class="pre">'knn']</span></code>, type is <code class="docutils literal notranslate"><span class="pre">str</span></code> or a <code class="docutils literal notranslate"><span class="pre">list</span></code> like. A complete list of the
default choices in <strong>ATM</strong> are:</p>
<ul>
<li><p>logreg</p></li>
<li><p>svm</p></li>
<li><p>sgd</p></li>
<li><p>dt</p></li>
<li><p>et</p></li>
<li><p>rf</p></li>
<li><p>gnb</p></li>
<li><p>mnb</p></li>
<li><p>bnb</p></li>
<li><p>gp</p></li>
<li><p>pa</p></li>
<li><p>knn</p></li>
<li><p>mlp</p></li>
<li><p>ada</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">metric</span></code>: Metric by which <strong>ATM</strong> should evaluate the classifiers. The metric function specified
here will be used to compute the judgment metric for each classifier. Default <code class="docutils literal notranslate"><span class="pre">metric</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">f1</span></code>, type <code class="docutils literal notranslate"><span class="pre">str</span></code>. The rest of metrics that we support at the moment is as follows:</p>
<ul>
<li><p>roc_auc_micro</p></li>
<li><p>rank_accuracy</p></li>
<li><p>f1_micro</p></li>
<li><p>accuracy</p></li>
<li><p>roc_auc_macro</p></li>
<li><p>ap</p></li>
<li><p>cohen_kappa</p></li>
<li><p>f1</p></li>
<li><p>f1_macro</p></li>
<li><p>mcc</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">r_minimum</span></code>:  Number of random runs to perform before tuning can occur. Default value is <code class="docutils literal notranslate"><span class="pre">2</span></code>,
type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_per_partition</span></code>: If true, generate a new datarun for each hyperpartition. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>,
type <code class="docutils literal notranslate"><span class="pre">bool</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">score_target</span></code>: Determines which judgment metric will be used to search the hyperparameter space.
<code class="docutils literal notranslate"><span class="pre">cv</span></code> will use the mean cross-validated performance, <code class="docutils literal notranslate"><span class="pre">test</span></code> will use the performance on a test
dataset, and <code class="docutils literal notranslate"><span class="pre">mu_sigma</span></code> will use the lower confidence bound on the CV performance. Default is <code class="docutils literal notranslate"><span class="pre">cv</span></code>,
type <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
<li><p><cite>selector</cite>: Type of [BTB](<a class="reference external" href="https://github.com/HDI-Project/BTB/">https://github.com/HDI-Project/BTB/</a>) selector to use. A list of them at
the moment is <code class="docutils literal notranslate"><span class="pre">[uniform,</span> <span class="pre">ucb1,</span> <span class="pre">bestk,</span> <span class="pre">bestkvel,</span> <span class="pre">purebestkvel,</span> <span class="pre">recentk,</span> <span class="pre">hieralg]</span></code>. Default is set to
<code class="docutils literal notranslate"><span class="pre">uniform</span></code>, type <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
<li><p><cite>tuner</cite>: Type of [BTB](<a class="reference external" href="https://github.com/HDI-Project/BTB/">https://github.com/HDI-Project/BTB/</a>) tuner to use. A list of them at the
moment is <code class="docutils literal notranslate"><span class="pre">[uniform,</span> <span class="pre">gp,</span> <span class="pre">gp_ei,</span> <span class="pre">gp_eivel]</span></code>. Default is set to <code class="docutils literal notranslate"><span class="pre">uniform</span></code>, type <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="command-line">
<h3>Command Line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h3>
<div class="section" id="using-command-line-arguments">
<h4>Using command line arguments<a class="headerlink" href="#using-command-line-arguments" title="Permalink to this headline">¶</a></h4>
<p>You can specify each argument individually on the command line. The names of the
variables are the same as those in the YAML files. SQL configuration variables must be
prepended by <code class="docutils literal notranslate"><span class="pre">sql-</span></code>, and AWS config variables must be prepended by <code class="docutils literal notranslate"><span class="pre">aws-</span></code>.</p>
<p>Using command line arguments is convenient for quick experiments, or for cases where you
need to change just a couple of values from the default configuration. For example:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">atm</span> <span class="n">enter_data</span> <span class="c1">--train-path ./data/my-custom-data.csv --selector bestkvel</span>
</pre></div>
</div>
<p>You can also use a mixture of config files and command line arguments; any command line
arguments you specify will override the values found in config files.</p>
</div>
<div class="section" id="using-yaml-configuration-files">
<h4>Using YAML configuration files<a class="headerlink" href="#using-yaml-configuration-files" title="Permalink to this headline">¶</a></h4>
<p>You can also save the configuration as YAML files is an easy way to save complicated setups
or share them with team members.</p>
<p>You should start with the templates provided by the <code class="docutils literal notranslate"><span class="pre">atm</span> <span class="pre">make_config</span></code> command:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">atm</span> <span class="n">make_config</span>
</pre></div>
</div>
<p>This will generate a folder called <code class="docutils literal notranslate"><span class="pre">config/templates</span></code> in your current working directory which
will contain 5 files, which you will need to copy over to the <code class="docutils literal notranslate"><span class="pre">config</span></code> folder and edit according
to your needs:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="n">config</span><span class="o">/</span><span class="n">templates</span><span class="cm">/*.yaml config/</span>
<span class="cm">vim config/*.yaml</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">run.yaml</span></code> contains all the settings for a single dataset and datarun. Specify the <code class="docutils literal notranslate"><span class="pre">train_path</span></code>
to point to your own dataset.</p>
<p><code class="docutils literal notranslate"><span class="pre">sql.yaml</span></code> contains the settings for the ModelHub SQL database. The default configuration will
connect to (and create if necessary) a SQLite database at <code class="docutils literal notranslate"><span class="pre">./atm.db</span></code> relative to the directory
from which <code class="docutils literal notranslate"><span class="pre">enter_data.py</span></code> is run. If you are using a MySQL database, you will need to change
the file to something like this:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">dialect</span><span class="p">:</span> <span class="n">mysql</span>
<span class="k">database</span><span class="p">:</span> <span class="n">atm</span>
<span class="n">username</span><span class="p">:</span> <span class="n">username</span>
<span class="n">password</span><span class="p">:</span> <span class="n">password</span>
<span class="k">host</span><span class="p">:</span> <span class="n">localhost</span>
<span class="n">port</span><span class="p">:</span> <span class="mi">3306</span>
<span class="n">query</span><span class="p">:</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">aws.yaml</span></code> should contain the settings for running ATM in the cloud. This is not necessary
for local operation.</p>
<p>Once your YAML files have been updated, run the datarun creation command and pass it the paths
to your new config files:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">atm</span> <span class="n">enter_data</span> <span class="c1">--sql-config config/sql.yaml \</span>
              <span class="c1">--aws-config config/aws.yaml \</span>
              <span class="c1">--run-config config/run.yaml</span>
</pre></div>
</div>
<p>It’s important that the SQL configuration used by the worker matches the configuration you
passed to <code class="docutils literal notranslate"><span class="pre">enter_data</span></code> – otherwise, the worker will be looking in the wrong ModelHub
database for its datarun!</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">atm</span> <span class="n">worker</span> <span class="c1">--sql-config config/sql.yaml \</span>
          <span class="c1">--aws-config config/aws.yaml \</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="setting-up-a-distributed-database">
<h2>Setting up a distributed Database<a class="headerlink" href="#setting-up-a-distributed-database" title="Permalink to this headline">¶</a></h2>
<p>ATM uses a database to store information about datasets, dataruns and classifiers.
It’s currently compatible with the SQLite3 and MySQL dialects.</p>
<p>For first-time and casual users, the SQLite3 is used by default without any required
step from the user.</p>
<p>However, if you’re planning on running large, distributed, or performance-intensive jobs,
you might prefer using MySQL.</p>
<p>If you do not have a MySQL database already prepared, you can follow the next steps in order
install it and parepare it for ATM:</p>
<div class="section" id="install-mysql-server">
<h3>1. Install mysql-server<a class="headerlink" href="#install-mysql-server" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install mysql-server
</pre></div>
</div>
<p>In the latest versions of MySQL no input for the user is required for this step, but
in older versions the installation process will require the user to input a password
for the MySQL root user.</p>
<p>If this happens, keep track of the password that you set, as you will need it in the
next step.</p>
</div>
<div class="section" id="log-into-your-mysql-instance-as-root">
<h3>2. Log into your MySQL instance as root<a class="headerlink" href="#log-into-your-mysql-instance-as-root" title="Permalink to this headline">¶</a></h3>
<p>If no password was required during the installation of MySQL, you should be able to
log in with the following command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mysql
</pre></div>
</div>
<p>If a MySQL Root password was required, you will need to execute this other command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo mysql -u root -p
</pre></div>
</div>
<p>and input the password that you used during the installation when prompted.</p>
</div>
<div class="section" id="create-a-new-database-for-atm">
<h3>3. Create a new Database for ATM<a class="headerlink" href="#create-a-new-database-for-atm" title="Permalink to this headline">¶</a></h3>
<p>Once you are logged in, execute the following three commands to create a database
called <code class="docutils literal notranslate"><span class="pre">atm</span></code> and a user also called <code class="docutils literal notranslate"><span class="pre">atm</span></code> with write permissions on it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mysql&gt; CREATE DATABASE atm<span class="p">;</span>
$ mysql&gt; CREATE USER <span class="s1">&#39;atm&#39;</span>@<span class="s1">&#39;localhost&#39;</span> IDENTIFIED BY <span class="s1">&#39;set-your-own-password-here&#39;</span><span class="p">;</span>
$ mysql&gt; GRANT ALL PRIVILEGES ON atm.* TO <span class="s1">&#39;atm&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="test-your-settings">
<h3>4. Test your settings<a class="headerlink" href="#test-your-settings" title="Permalink to this headline">¶</a></h3>
<p>After you have executed the previous three commands and exited the mysql prompt,
you can test your settings by executing the following command and inputing the
password that you used in the previous step when prompted:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mysql -u atm -p
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, MIT Data to AI Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>